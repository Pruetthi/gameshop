<app-header></app-header>

<div class="discount-list-container">
    <div class="header-actions">
        <button mat-raised-button color="primary" (click)="goBack()">
            ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
        </button>
        <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
    </div>

    <table class="discount-table" *ngIf="discounts.length > 0; else noData">
        <thead>
            <tr>
                <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</th>
                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</th>
                <th>‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ</th>
                <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let d of discounts">
                <td>{{ d.discount_code }}</td>
                <td>{{ d.discount_type === 'flat' ? '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô' : '‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå' }}</td>
                <td>
                    <span *ngIf="d.discount_type === 'flat'">{{ d.discount_amount }} ‡∏ö‡∏≤‡∏ó</span>
                    <span *ngIf="d.discount_type === 'percent'">{{ d.discount_amount * 100 }}%</span>
                </td>
                <td>{{ d.usage_limit }}</td>
                <td class="actions">
                    <button mat-stroked-button color="accent" (click)="editDiscount(d)">
                        ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                    </button>
                    <button mat-stroked-button color="warn" (click)="deleteDiscount(d.discount_code)">
                        üóëÔ∏è ‡∏•‡∏ö
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <ng-template #noData>
        <p class="no-data">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
    </ng-template>
</div>